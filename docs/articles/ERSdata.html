<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Download and Visualize ERS Data â€¢ RstoxUtils</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download and Visualize ERS Data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RstoxUtils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/BioticData.html">Biotic</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/LandingsData.html">Sales notes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/ERSData.html">Electronic Reporting System</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/CodeDefinitions.html">Definitons</a></li>
    <li><hr class="dropdown-divider"></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/DeepWaterIMR/RstoxUtils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Download and Visualize ERS Data</h1>
                        <h4 data-toc-skip class="author">Mikko Vihtakari (Institute of Marine Research)</h4>
            
            <h4 data-toc-skip class="date">12 September, 2025</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/DeepWaterIMR/RstoxUtils/blob/HEAD/vignettes/ERSdata.Rmd" class="external-link"><code>vignettes/ERSdata.Rmd</code></a></small>
      <div class="d-none name"><code>ERSdata.Rmd</code></div>
    </div>

    
    
<p>Packages required to run the examples:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Package names</span></span>
<span><span class="va">packages</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RstoxUtils"</span>, <span class="st">"sf"</span>, <span class="st">"dplyr"</span>, <span class="st">"ggOceanMaps"</span>, <span class="st">"ggplot2"</span>, <span class="st">"ggspatial"</span>,</span>
<span>    <span class="st">"lubridate"</span>, <span class="st">"tibble"</span>, <span class="st">"tidyr"</span>, <span class="st">"hexbin"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install packages not yet installed</span></span>
<span><span class="va">installed_packages</span> <span class="op">&lt;-</span> <span class="va">packages</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">installed_packages</span> <span class="op">==</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="va">packages</span><span class="op">[</span><span class="op">!</span><span class="va">installed_packages</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Load the packages to the workspace</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">packages</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">x</span>, character.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The Directorate of Fisheries in Norway (FDir) collects and distributes data on the <a href="https://www.fiskeridir.no/english/Fisheries/reporting-systems-and-innovation/electronic-reporting-ers-and-position-reporting-vms-in-norwegian-fisheries" class="external-link">exact positions and times of commercial fishing events by the Norwegian fleet</a> for vessels &gt;15 m. These data, referred to as ERS (Electronic Registration System), are available on the <a href="https://www.fiskeridir.no/statistikk-tall-og-analyse/data-og-statistikk-om-yrkesfiske/apne-data-elektronisk-rapportering-ers" class="external-link">FDir website</a>. Currently, the data are only available in Norwegian and are compressed into large, non-searchable zip files. The <code><a href="../reference/downloadERS.html">downloadERS()</a></code> and <code><a href="../reference/extractERS.html">extractERS()</a></code> functions facilitate efficient handling of these datasets.</p>
<div class="section level3">
<h3 id="download-ers-data">Download ERS data<a class="anchor" aria-label="anchor" href="#download-ers-data"></a>
</h3>
<p>The <code>downloadERS</code> function can be used to download all .zip files listed on the <a href="https://www.fiskeridir.no/statistikk-tall-og-analyse/data-og-statistikk-om-yrkesfiske/apne-data-elektronisk-rapportering-ers" class="external-link">webpage</a>. Specify the <code>dest</code> argument to a location with sufficient storage capacity:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/downloadERS.html">downloadERS</a></span><span class="op">(</span>dest <span class="op">=</span> <span class="st">"~Documents/Fisheries data/FDIR ERS data"</span>,</span>
<span>            years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2011</span>, <span class="fl">2018</span>, <span class="fl">2025</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>In this example, only the years 2011, 2018, and 2025 are used to conserve space. However, you may omit the <code>years</code> argument to download all available data from 2011 onward.</p>
</div>
<div class="section level3">
<h3 id="process-ers-data">Process ERS data<a class="anchor" aria-label="anchor" href="#process-ers-data"></a>
</h3>
<p>After downloading, use the <code>extractERS</code> function to read the data:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ers_example_data</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/extractERS.html">extractERS</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"~Documents/Fisheries data/FDIR ERS data"</span>,</span>
<span>             species <span class="op">=</span> <span class="st">"snabeluer"</span><span class="op">)</span></span></code></pre></div>
<p>The data can now be visualized and used for further analysis:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu">ggOceanMaps</span><span class="fu">::</span><span class="fu"><a href="https://mikkovihtakari.github.io/ggOceanMaps/reference/basemap.html" class="external-link">basemap</a></span><span class="op">(</span></span>
<span>  <span class="va">ers_example_data</span>, bathy.style <span class="op">=</span> <span class="st">"contour_grey"</span>, base_size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">stat_summary_hex</span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">ers_example_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu">ggOceanMaps</span><span class="fu">::</span> <span class="fu"><a href="https://mikkovihtakari.github.io/ggOceanMaps/reference/transform_coord.html" class="external-link">transform_coord</a></span><span class="op">(</span>bind <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">lon.proj</span>, y <span class="op">=</span> <span class="va">lat.proj</span>, z <span class="op">=</span> <span class="va">weight</span><span class="op">/</span><span class="fl">1e3</span><span class="op">)</span>, bins <span class="op">=</span> <span class="fl">30</span>,</span>
<span>    fun <span class="op">=</span> <span class="st">"sum"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_distiller</span><span class="op">(</span></span>
<span>    palette <span class="op">=</span> <span class="st">"Spectral"</span>, na.value <span class="op">=</span> <span class="st">"grey"</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    trans <span class="op">=</span> <span class="st">"sqrt"</span><span class="op">)</span>  <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">year</span>, ncol <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="cn">NULL</span>, fill <span class="op">=</span> <span class="st">"Catch (t)"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">theme</span><span class="op">(</span></span>
<span>    legend.box.margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">10</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    legend.background <span class="op">=</span> <span class="fu">element_rect</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"transparent"</span>, color <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    legend.box.background <span class="op">=</span> <span class="fu">element_rect</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"transparent"</span>, color <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">reorder_layers</span><span class="op">(</span><span class="va">pp</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:fig-annual-overview"></span>
<img src="ERSdata_files/figure-html/fig-annual-overview-1.png" alt="Spatial distribution of total beaked redfish catches by the Norwegian fleet (&gt;15 m) based on ERS data. Facets represent different years. The color scale, indicating aggregated total catches in tons, has been square-root transformed." width="864"><p class="caption">
Figure 1: Spatial distribution of total beaked redfish catches by the Norwegian fleet (&gt;15 m) based on ERS data. Facets represent different years. The color scale, indicating aggregated total catches in tons, has been square-root transformed.
</p>
</div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ers_example_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>gear <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Bunntr|Udefinert tr|Snurrevad"</span>, <span class="va">gear</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Bottom\ntrawls"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Reketr"</span>, <span class="va">gear</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Shrimp\ntrawls"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Flytetr"</span>, <span class="va">gear</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Pelagic\ntrawls"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Garn"</span>, <span class="va">gearGroup</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Gillnets"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Krokredskap"</span>, <span class="va">gearGroup</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Hooks"</span>,</span>
<span>    .default <span class="op">=</span> <span class="st">"Other"</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">year</span>, <span class="va">gear</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">reframe</span><span class="op">(</span>value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">weight</span><span class="op">)</span><span class="op">/</span><span class="fl">1e3</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">gear</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">arrange</span><span class="op">(</span><span class="op">-</span><span class="va">total</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>gear <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">gear</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">gear</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">gear</span>, y <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span> <span class="va">year</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Gear category"</span>, y <span class="op">=</span> <span class="st">"Catch (t)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:fig-gear-allocation"></span>
<img src="ERSdata_files/figure-html/fig-gear-allocation-1.png" alt="Beaked redfish catches by gear type and year based on ERS data for the Norwegian fleet (&gt;15 m)." width="864"><p class="caption">
Figure 2: Beaked redfish catches by gear type and year based on ERS data for the Norwegian fleet (&gt;15 m).
</p>
</div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">ers_example_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Bunntr|Udefinert tr|Snurrevad|Reketr|Flytetr"</span>, <span class="va">gear</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"27_2_|27_1_"</span>, <span class="va">ICESArea</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>gear <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Flytetr"</span>, <span class="va">gear</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Pelagic trawls"</span>,</span>
<span>    .default <span class="op">=</span> <span class="st">"Bottom trawls"</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggOceanMaps</span><span class="fu">::</span><span class="fu"><a href="https://mikkovihtakari.github.io/ggOceanMaps/reference/basemap.html" class="external-link">basemap</a></span><span class="op">(</span><span class="va">x</span>, base_size <span class="op">=</span> <span class="fl">12</span>, bathy.style <span class="op">=</span> <span class="st">"contour_grey"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggspatial</span><span class="fu">::</span><span class="fu"><a href="https://paleolimbot.github.io/ggspatial/reference/stat_spatial_identity.html" class="external-link">geom_spatial_point</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">x</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>      <span class="fu">mutate</span><span class="op">(</span>weight <span class="op">=</span> <span class="va">weight</span><span class="op">/</span><span class="fl">1e3</span><span class="op">)</span>,</span>
<span>    <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">lon</span>, y <span class="op">=</span> <span class="va">lat</span>, size <span class="op">=</span> <span class="va">weight</span><span class="op">)</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"red"</span>, shape <span class="op">=</span> <span class="fl">21</span>, alpha <span class="op">=</span> <span class="fl">0.5</span>, stroke <span class="op">=</span> <span class="fu"><a href="../reference/LS.html">LS</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_size_area</span><span class="op">(</span></span>
<span>    max_size <span class="op">=</span> <span class="fl">12</span>,</span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span>,<span class="fl">10</span>,<span class="fl">20</span>,<span class="fl">40</span>,<span class="fl">60.80</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="cn">NULL</span>, size <span class="op">=</span> <span class="st">"Catch (t)"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">gear</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">guides</span><span class="op">(</span>size <span class="op">=</span> <span class="fu">guide_legend</span><span class="op">(</span>nrow <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>        legend.box.margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">10</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>        legend.background <span class="op">=</span> <span class="fu">element_rect</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"transparent"</span>, color <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>,</span>
<span>        legend.box.background <span class="op">=</span> <span class="fu">element_rect</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"transparent"</span>, color <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:fig-nea-map"></span>
<img src="ERSdata_files/figure-html/fig-nea-map-1.png" alt="Spatial distribution of beaked redfish catches by bottom and pelagic trawls within the Northeast Arctic (ICES areas 1 and 2) stock, based on ERS data for the Norwegian fleet (&gt;15 m). Data are aggregated across 2011, 2018, and 2025" width="864"><p class="caption">
Figure 3: Spatial distribution of beaked redfish catches by bottom and pelagic trawls within the Northeast Arctic (ICES areas 1 and 2) stock, based on ERS data for the Norwegian fleet (&gt;15 m). Data are aggregated across 2011, 2018, and 2025
</p>
</div>
</div>
<div class="section level3">
<h3 id="accessing-data-for-vessels-15-m">Accessing data for vessels &lt;15 m<a class="anchor" aria-label="anchor" href="#accessing-data-for-vessels-15-m"></a>
</h3>
<p>ERS data for vessels &lt;15 m (<em>elFangstdagbok_detaljert</em>) are also available on IMR servers. These datasets are distributed in .psv format. You can use the <code>extractLogbook</code> function to access them. Please note that this function has not been updated since 2021 and may require further development.</p>
<p>These data are confidential and require a special access to the folder on the server where they are located. If you need such access (and work at IMR), take contact with the data people at your group. Those who have the access, know where the data are located. The <code>path</code> argument should point to the folder of interest on the server (<em>elFangstdagbok_detaljert</em> for all data). The path can be defined on Mac (and Linux) as <code>path = "/Volumes/.../elFangstdagbok_detaljert"</code> and as <code>path = Q:/.../elFangstdagbok_detaljert</code> on Windows, where <code>...</code> represents the entire folder path that cannot be shown here. You can copy the folder location as path to your clip-board and past it the <code><a href="../reference/extractLogbook.html">extractLogbook()</a></code> function. Remember to use quotes (i.e.Â <code>" "</code>).</p>
<p>The function is slow especially in TromsÃ¸ (prepare for 30 min to 1 h). It filters species out of the logbook data based on codes listed in the table under. For example, all Atlantic halibut can be extracted as follows:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extractLogbook.html">extractLogbook</a></span><span class="op">(</span><span class="va">path</span>, species <span class="op">=</span> <span class="st">"HAL"</span><span class="op">)</span></span></code></pre></div>
<p>Or as:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extractLogbook.html">extractLogbook</a></span><span class="op">(</span><span class="va">path</span>, species <span class="op">=</span> <span class="fl">2311</span><span class="op">)</span> <span class="co"># Excluding farmed fish</span></span></code></pre></div>
<p>The species name will be returned in Norwegian, English or Latin depending on the <code>language</code> argument.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mikko Vihtakari.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
