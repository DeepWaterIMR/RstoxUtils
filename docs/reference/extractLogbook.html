<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Legacy function to extract ERS information from detailed Norwegian fisheries logbooks from Excel files on the IMR server — extractLogbook • RstoxUtils</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Legacy function to extract ERS information from detailed Norwegian fisheries logbooks from Excel files on the IMR server — extractLogbook"><meta name="description" content="Extracts ERS information from Excel files on the IMR server."><meta property="og:description" content="Extracts ERS information from Excel files on the IMR server."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RstoxUtils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/BioticData.html">Biotic</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/LandingsData.html">Sales notes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/ERSdata.html">Electronic Reporting System</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/CodeDefinitions.html">Definitons</a></li>
    <li><hr class="dropdown-divider"></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/DeepWaterIMR/RstoxUtils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Legacy function to extract ERS information from detailed Norwegian fisheries logbooks from Excel files on the IMR server</h1>
      <small class="dont-index">Source: <a href="https://github.com/DeepWaterIMR/RstoxUtils/blob/HEAD/R/extractLogbook.R" class="external-link"><code>R/extractLogbook.R</code></a></small>
      <div class="d-none name"><code>extractLogbook.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extracts ERS information from Excel files on the IMR server.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">extractLogbook</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">species</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"start"</span>,</span>
<span>  language <span class="op">=</span> <span class="st">"norwegian"</span>,</span>
<span>  subspecies <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  remove.sensitive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  print.filename <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>Character argument defining the path to the folder where data are located</p></dd>


<dt id="arg-species">species<a class="anchor" aria-label="anchor" href="#arg-species"></a></dt>
<dd><p>Character argument defining the species. Species names can be given in Norwegian, English or Latin. Species names are sampled from <code><a href="FDIRcodes.html">FDIRcodes</a>$speciesCodes</code>.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Character argument specifying the method for position, time and depth extraction. Alternatives: <code>"start"</code> takes the reported start values, <code>"end"</code> extracts the reported end values and <code>"average"</code> takes an average of start and end values.</p></dd>


<dt id="arg-language">language<a class="anchor" aria-label="anchor" href="#arg-language"></a></dt>
<dd><p>Character argument in lower case specifying the language of species names in the returned data table. Alternatives: <code>"norwegian"</code>, <code>"english"</code>, or <code>"latin"</code>, The species names are acquired from <code><a href="FDIRcodes.html">FDIRcodes</a>$speciesCodes</code>.</p></dd>


<dt id="arg-subspecies">subspecies<a class="anchor" aria-label="anchor" href="#arg-subspecies"></a></dt>
<dd><p>Logical. Should NS codes (i.e. species sub-categories) be used to translate species names? If <code>FALSE</code>, FAO codes are used leading to actual species names.</p></dd>


<dt id="arg-remove-sensitive">remove.sensitive<a class="anchor" aria-label="anchor" href="#arg-remove-sensitive"></a></dt>
<dd><p>Logical indicating whether the function should remove sensitive data fields.</p></dd>


<dt id="arg-print-filename">print.filename<a class="anchor" aria-label="anchor" href="#arg-print-filename"></a></dt>
<dd><p>Logical indicating whether the file name should be printed to console while processing. Useful for debugging.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data.table containing following columns:</p><ul><li><p><code>"year"</code> year of the fishing event.</p></li>
<li><p><code>"month"</code> month of the fishing event.</p></li>
<li><p><code>"lon"</code> longitude coordinate for the fishing event in decimal degrees acquired based on the <code>method</code> argument.</p></li>
<li><p><code>"lat"</code> latitude coordinate for the fishing event in decimal degrees acquired based on the <code>method</code> argument.</p></li>
<li><p><code>"gearId"</code> reported gear ID (REDSKAP_NS) in the .psv files</p></li>
<li><p><code>"gear"</code> gear name translated from <code>gearId</code> based on <code><a href="FDIRcodes.html">FDIRcodes</a>$gearCodes</code>.</p></li>
<li><p><code>"gearCat"</code> gear category translated from <code>gearId</code> based on <code><a href="FDIRcodes.html">FDIRcodes</a>$gearCodes</code>.</p></li>
<li><p><code>"fishTime"</code> reported fishing time.</p></li>
<li><p><code>"effort"</code> reported fishing effort (number of hooks etc.)</p></li>
<li><p><code>"dist"</code> reported fishing distance in meters.</p></li>
<li><p><code>"depth"</code> reported fishing depth in meters acquired based on the <code>method</code> argument.</p></li>
<li><p><code>"targetSpFAO"</code> target species based on the FAO definition: the species with highest mass in catch.</p></li>
<li><p><code>"targetSpRep"</code> target species reported by the fishermen.</p></li>
<li><p><code>"species"</code> reported catch species based on the <code>species</code>, <code>language</code> and <code>subspecies</code> arguments. Translated from the species ID (FANGSTART_NS or FANGSTART_FAO) based on <code><a href="FDIRcodes.html">FDIRcodes</a>$speciesCodes</code>.</p></li>
<li><p><code>"mass"</code> reported catch of the <code>species</code> in kilograms.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function extracts information from the Norwegian fisheries logbooks provided in the <code>.psv</code> format on the IMR server. Note that these data are confidential and protected by the Norwegian Privacy Act (personvernloven). Keep the data on the server or in another safe place (not on the cloud). Do not send the input data around on email. The <code>remove.sensitive</code> argument can be used to disconnect the output from the confidential input data. This output can be distributed to people who have not signed the confidentiality statement (students, ICES colleagues, etc.) also using email. The data are property of the Norwegian Directorate of Fisheries and you should consult them if you plan to publish any parts of the dataset.</p>
<p>Note that the structure of logbook files is not confidential and therefore this function can be distributed freely. The data required by the function cannot (do not send those data on email).</p>
<p>There are many duplicate records in the logbook files on the server. This function removes these duplicates automatically, but the process takes time and is not very controlled. If you want to be sure about the data you include, copy the desired files to another folder (in a safe place) and run the function for that folder.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other ERS functions:
<code><a href="downloadERS.html">downloadERS</a>()</code>,
<code><a href="extractERS.html">extractERS</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Mikko Vihtakari (Institute of Marine Research)</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mikko Vihtakari.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

